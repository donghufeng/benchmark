---
name: Benchmark for quantum computing framework

on:
  workflow_dispatch:
  push:

env:
  GITHUB_CI: 1
  TERM: xterm
  BENCHMARK_MINDQUANTUM: 0
  BENCHMARK_INTEL: 1
  BENCHMARK_PADDLEQUANTUM: 0
  BENCHMARK_QISKIT: 0
  BENCHMARK_TFQ: 0
  BENCHMARK_QULACS: 0
  BENCHMARK_QUEST: 0
  BENCHMARK_TENSORCIRCUIT: 0
  BENCHMARK_PYQPANDA: 0

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Setup Python 3.8
        uses: actions/setup-python@v4
        with:
          python-version: 3.8
      - name: show environment
        run: |
          echo "Python version:"
          python3 --version
          echo "cmake version:"
          cmake --version
          if [[ "${GITHUB_CI:-0}" == "1" ]]; then
            echo "GITHUB_CI detected"
          fi
      - name: install packages
        run: bash ./prepare_venv.sh
